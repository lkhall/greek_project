{% extends "first_app/layout.html" %}

{% block body %}
		<script>
			document.addEventListener('DOMContentLoaded', function() {
				document.querySelector('#my_django_form').onsubmit = function() {
					console.log("hello");
					const myform = document.getElementById("my_django_form");
					const genderr = myform.elements.id_noun_gender.value;
					const numberr = myform.elements.id_noun_number.value;
					const casee = myform.elements.id_noun_case.value;
					///alert(`Gender: ${genderr}, number: ${numberr}, case: ${casee}`);
					let number_correct = false;
					let case_correct = false;
					let gender_correct = false;

					{% for thing in number %}
						if ("{{ thing }}" === numberr) {
							number_correct = true;
						}
					{% endfor %}

					{% for thing in case %}
						if ("{{ thing }}" === casee) {
							case_correct = true;
						}
						
					{% endfor %}

					{% for thing in gender %}
						if ("{{ thing }}" === genderr) {
							gender_correct = true;
						}
						
					{% endfor %}

					if (gender_correct && number_correct && case_correct) {
						console.log("HI");
						alert(`Correct!`);
					}
					else {
						console.log("p");
						alert(`Not Correct, try again`);
						return false;
					}
					
				};
			});
		</script>

		<h2>Nouns</h2>
		<form id="my_django_form_2" action="{% url 'first_app:nouns' %}" method="post">
			{% csrf_token %}
			{{ unit_form }}
			<input type="submit">
		</form>

		<h1 style="font-family: 'Arial Unicode MS', sans-serif;">Noun form: {{ verb_form }}</h1>
		<form id="my_django_form">
			{{ form }}
			<input type="submit">
		</form>
{% endblock %}